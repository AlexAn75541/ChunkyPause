# ========================================
# ChunkyPause Configuration
# ========================================
# 
# ChunkyPause intelligently manages Chunky chunk generation to prevent
# server lag and ensure optimal performance for players.
#
# Author: AlexAn75541
# ========================================

# Maximum number of players allowed before pausing Chunky generation
# When player count exceeds this number, Chunky will automatically pause
# Set to 0 to pause when any player joins (maximum performance for players)
# Examples:
#   0 = Pause when any player is online
#   1 = Allow Chunky to run with 1 player, pause with 2+
#   5 = Allow Chunky to run with up to 5 players
max-players: 0

# Memory usage threshold (0.0 to 1.0, where 1.0 is 100%)
# When memory exceeds this percentage, Chunky will be automatically paused
# 
# The plugin uses SMART memory management:
# - Triggers garbage collection when needed
# - Monitors USED memory (not allocated)
# - Adapts to your GC type (G1, ZGC, Shenandoah, etc.)
# - Handles fixed heap (-Xmx = -Xms) scenarios properly
# 
# The plugin automatically detects:
# - Your garbage collector type
# - Whether heap size is fixed or dynamic
# - Optimal GC strategy for your configuration
# 
# Recommended values:
# - 6GB RAM or less: 0.75-0.80 (75-80%)
# - 8GB RAM: 0.80-0.85 (80-85%)
# - 12GB+ RAM: 0.85-0.88 (85-88%)
# - With ZGC/Shenandoah: 0.85-0.90 (better memory management)
memory-threshold: 0.85

# How often to check memory usage (in ticks, 20 ticks = 1 second)
# Lower values = more frequent checks = more CPU usage but faster response
# 
# The plugin intelligently monitors:
# - USED memory percentage (vs Max memory)
# - Only triggers when actual usage is high
# - Ignores allocated memory in fixed heap scenarios
# 
# The plugin adapts to your garbage collector automatically
# Default: 100 ticks = 5 seconds
# For servers <6GB RAM: 80 ticks (4 seconds)
# For servers with ZGC/Shenandoah: 120 ticks (6 seconds)
check-interval: 100

# How long to wait before checking if memory has recovered (in ticks)
# After pausing due to high memory, the plugin will wait this long before checking again
# 
# Recommended values based on GC type:
# - Standard/G1GC: 100 ticks (5 seconds)
# - ZGC/Shenandoah: 60 ticks (3 seconds) - Faster recovery
# Default: 100 ticks = 5 seconds
resume-delay: 100

# Clean memory (trigger garbage collection) when a player joins
# This helps prevent lag spikes when players join during heavy chunk generation
# 
# The plugin uses ADAPTIVE strategies:
# - Fixed heap (-Xmx = -Xms): Single pass GC
# - ZGC/Shenandoah: Minimal intervention (already low-pause)
# - G1GC: Dual-pass cleanup
# - Standard GC: Multi-pass thorough cleanup
# 
# GC cooldown: 10 seconds (prevents excessive GC calls)
# Recommended: true (low impact with modern GCs)
clean-memory-on-join: true

# Force pause state - manual override to keep Chunky paused
# When set to true, Chunky will remain paused regardless of player count or memory
# This state is saved when using /chunkypause forcepause command
# 
# Use cases:
# - Manually pause generation during peak hours
# - Prevent automatic resuming during maintenance
# - Keep generation disabled until explicitly enabled
# 
# This value is automatically updated by /chunkypause forcepause command
# Default: false (allow automatic pause/resume based on conditions)
force-paused: false

# Enable automatic memory monitoring and cleaning
# When enabled, the plugin will:
# - Monitor memory usage continuously
# - Automatically pause Chunky when memory threshold is exceeded
# - Perform garbage collection when needed
# - Clean memory on player join (if clean-memory-on-join is true)
# 
# When disabled:
# - No automatic memory monitoring
# - Only player count will trigger pause/resume
# - Manual GC via /chunkypause gc still works
# 
# Toggle via command: /chunkypause togglememory
# Default: true (memory monitoring enabled)
memory-monitoring-enabled: true
